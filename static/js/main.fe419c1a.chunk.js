(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(n,e,t){n.exports=t(84)},57:function(n,e,t){},83:function(n,e,t){},84:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(25),c=t.n(o),i=t(17),l=t(19),u=t(13),d={boards:[],errMsg:"",error:!1,loading:!1},s={cards:[],currentBoard:{},error:!1,errorMsg:"",loading:!1},p={currentCard:{},error:!1,errorMsg:"",loading:!1},f=Object(l.c)({boards:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_BOARDS":var t=e.payload.boards;return Object(u.a)({},n,{boards:t,error:!1,loading:!1});case"SET_ERROR":var r=e.payload.error;return Object(u.a)({},n,{error:!0,loading:!1,errMsg:r});case"SET_BOARDS_LOADING_FLAG":return Object(u.a)({},n,{loading:!0});default:return n}},cards:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CURRENT_BOARD":var t=e.payload.board;return Object(u.a)({},n,{currentBoard:t.info,cards:t.cards,error:!1,loading:!1});case"SET_ERROR_CARDS":var r=e.payload.error;return Object(u.a)({},n,{error:!0,errorMsg:r,loading:!1});case"SET_LOADING_FLAG_CARDS":return Object(u.a)({},n,{loading:!0});default:return n}},card:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CURRENT_CARD":var t=e.payload.card;return Object(u.a)({},n,{currentCard:t,loading:!1,error:!1});case"SET_ERROR_CARD":var r=e.payload.error;return Object(u.a)({},n,{error:!0,errorMsg:r,loading:!1});case"SET_CARD_LOADING_FLAG":return Object(u.a)({},n,{loading:!0});default:return n}}}),b=t(41),m=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,h=Object(l.e)(f,m(Object(l.a)(b.a))),g=(t(57),t(7)),v=t(8),x=t(10),E=t(9),O=t(11),y=t(21),j=t(1),k=function(n){return n.children},w=t(2),_=t(16);function A(){var n=Object(j.a)(["\n        cursor: auto;\n        opacity: .65;\n        pointer-events: none;\n    "]);return A=function(){return n},n}function R(){var n=Object(j.a)(["\n            background-color: transparent;\n            border-color: #b7b7d9;\n            border-radius: 25px;\n            color: #212529;\n            font-weight: 300;\n            font-size: 1.25rem;\n            border: 2px solid transparent;\n            text-transform: none;\n            &:hover{\n                    color: #6c7293;\n                    border-color: #ebedf2 !important;\n            }\n    "]);return R=function(){return n},n}function S(){var n=Object(j.a)(["\n            color: #fff;\n            background-color: transparent;\n            border-radius: 25px;\n            color: #384ad7;\n            font-weight: 300;\n            font-size: 1.25rem;\n            border: 2px solid transparent;\n            text-transform: none;\n            &:hover{\n                        color: #384ad7;\n                    border-color: #5867dd;\n            }\n    "]);return S=function(){return n},n}function C(){var n=Object(j.a)(["\n            color: #fff;\n            background-color: #0abb87;\n            border-color: #0abb87;\n            text-transform: none;\n            &:hover{\n                color: #fff;\n                background-color: #08976d;\n                border-color: #078b64;\n            }\n    "]);return C=function(){return n},n}function B(){var n=Object(j.a)(["\n            padding: .5rem 3rem;\n            border: none;\n            background-color: #f2f3f7;\n            font-weight: 500;\n            color: #6c7293;\n            font-size: 14px;\n            text-transform: uppercase;\n            cursor: pointer;\n            border-radius: 5px;\n            transition: .2s;\n            text-align: center;\n            text-decoration: none;\n            &:hover{\n                color: #5d78ff;\n            }\n            &:focus{\n                outline: 0;\n            }\n    "]);return B=function(){return n},n}function I(){var n=Object(j.a)([""]);return I=function(){return n},n}function D(){var n=Object(j.a)([""]);return D=function(){return n},n}var T=function(n){var e=Object(w.a)(n.link?_.b:w.a.button(I()))(D()),t=Object(w.a)(e)(B()),r=Object(w.a)(t)(C()),o=Object(w.a)(t)(S()),c=Object(w.a)(t)(R()),i=t;switch(n.type){case"success":i=r;break;case"primary":i=o;break;case"secondary":i=c}var l=Object(w.a)(i)(A());return i=n.disabled?l:i,a.a.createElement(i,{to:n.link?n.to:"",onClick:n.link?function(){}:n.buttonAction},n.buttonName)};function z(){var n=Object(j.a)(["\n        height: 60px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        width: 100%;\n        position: fixed;\n        padding: 0 20px;\n        z-index: 100;\n        top: 0;\n        left: 0;\n        background-color: #fff;\n        box-shadow: 0px 10px 30px 0px rgba(82,63,105,0.08);\n    "]);return z=function(){return n},n}var L=function(n){var e=w.a.header(z());return a.a.createElement(e,null,a.a.createElement("h4",null,"Trello Observer v.0.0.1"),a.a.createElement(T,{buttonName:n.isAuth?"logout":"login",buttonAction:n.rightButtonAction}))};function N(){var n=Object(j.a)(["\n            padding: 20px;\n            display: flex;\n            justify-content: center;\n            min-height: calc(100vh - 110px);\n    "]);return N=function(){return n},n}function M(){var n=Object(j.a)(["\n        padding-top: 110px;\n        background-color: #ededf3;\n        min-height: 100vh;     \n    "]);return M=function(){return n},n}var G=function(n){var e=w.a.main(M()),t=w.a.div(N());return a.a.createElement(k,null,a.a.createElement(L,{isAuth:n.isAuth,rightButtonAction:n.rightButtonAction}),a.a.createElement(e,null,a.a.createElement(t,null,n.children)))},F=t(18),U=t.n(F),W=t(22),H=t(45),J=t.n(H).a.create({baseURL:"https://api.trello.com/1/"}),P=function(n){return{type:"SET_BOARDS",payload:n}};function X(){var n=Object(j.a)(["\n        font-size: 5px;\n        padding: 0 0.35rem 0 0;\n        color: #959cb6;\n        opacity: 0.25;\n    "]);return X=function(){return n},n}function q(){var n=Object(j.a)(["\n            padding: 0 0.35rem 0 0;\n             font-size: 1rem;\n             font-weight: 400;\n             color: #959cb6;\n            transition: all 0.3s;\n            text-decoration: none;\n            &:hover{\n                color: #5d78ff;\n            }\n    "]);return q=function(){return n},n}function V(){var n=Object(j.a)(["\n        display: flex;\n        align-items: center;\n    "]);return V=function(){return n},n}function $(){var n=Object(j.a)(["\n            margin: 0;\n            padding: 0 1.5rem 0 0;\n            font-size: 1.2rem;\n            font-weight: 500;\n            color: #434349;\n    "]);return $=function(){return n},n}function K(){var n=Object(j.a)(["\n            width: 100%;\n            display: flex;\n            position: fixed;\n            top: 60px;\n            border-top: 1px solid #ebedf2;\n            z-index: 100;\n            background-color: #FFF;\n            height: 50px;\n            display: flex;\n            left: 0;\n            padding: 0 20px;\n            align-items: center;\n    "]);return K=function(){return n},n}var Q=function(n){var e=[],t=w.a.div(K()),r=w.a.h3($()),o=w.a.div(V()),c=Object(w.a)(_.b)(q()),i=w.a.i(X());return n.items&&n.items.length>0&&(e=n.items.map(function(n){return a.a.createElement(k,{key:n.to},a.a.createElement(i,{className:"fas fa-circle"}),a.a.createElement(c,{key:n.to,to:n.to},n.title))})),a.a.createElement(t,null,a.a.createElement(r,null,n.current?n.current:"Home"),a.a.createElement(o,null,a.a.createElement(c,{to:"/boards"},a.a.createElement("i",{className:"fas fa-home"})),e))};function Y(){var n=Object(j.a)(["\n        padding: 25px;    \n    "]);return Y=function(){return n},n}function Z(){var n=Object(j.a)(["\n        padding: 0 25px;\n        border-bottom: 1px solid #ebedf2;\n        width: 100%;\n    "]);return Z=function(){return n},n}function nn(){var n=Object(j.a)(["\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    "]);return nn=function(){return n},n}var en=function(n){var e=w.a.div(nn()),t=w.a.div(Z()),r=w.a.div(Y());return a.a.createElement(e,null,a.a.createElement(t,null,a.a.createElement("h3",null,n.text)),a.a.createElement(r,null,n.children))};function tn(){var n=Object(j.a)(["\n        display: block;\n        width: 100%;\n        height: calc(1.5em + 1.3rem + 2px);\n        padding: .65rem 1rem;\n        font-size: 1rem;\n        font-weight: 400;\n        line-height: 1.5;\n        color: #495057;\n        cursor: pointer;\n        background-color: #fff;\n        background-clip: padding-box;\n        border: 1px solid #ebedf2;\n        border-radius: 4px;\n        transition: .2s;\n        &:focus{\n            color: #495057;\n            background-color: #fff;\n            border-color: #9aabff;\n            outline: 0;\n        }\n    "]);return tn=function(){return n},n}function rn(){var n=Object(j.a)(["\n        font-size: 1rem;\n        font-weight: 400;\n        margin-bottom: .5rem;\n        color: #646c9a;\n        display:block;\n    "]);return rn=function(){return n},n}var an=function(n){var e=w.a.label(rn()),t=w.a.select(tn()),r=n.options.length>0?n.options.map(function(n){return a.a.createElement("option",{key:n.id,value:n.id},n.value)}):null;return a.a.createElement(k,null,a.a.createElement(e,{htmlFor:n.name},n.label),a.a.createElement(t,{value:n.value,name:n.name,id:n.id,onChange:n.onChangeAction},a.a.createElement("option",{value:""},"Choose board..."),r))};function on(){var n=Object(j.a)(["\n            display:flex;\n            align-items: center;\n            justify-content: center;\n            height: 200px;\n    "]);return on=function(){return n},n}function cn(){var n=Object(j.a)(["\n        box-sizing: border-box;\n        display: block;\n        position: absolute;\n        width: 51px;\n         height: 51px;\n        margin: 6px;\n        border: 6px solid #fff;\n        border-radius: 50%;\n        animation: "," 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n        border-color: #3498db transparent transparent transparent;\n        &:nth-child(1){\n              animation-delay: -0.45s;\n        }\n        &:nth-child(2){\n              animation-delay: -0.3s;\n        }\n        &:nth-child(3){\n              animation-delay: -0.15s;\n        }\n    "]);return cn=function(){return n},n}function ln(){var n=Object(j.a)(["\n        from {\n            transform: rotate(0deg);\n        }\n        \n        to {\n         transform: rotate(360deg);\n        }\n        "]);return ln=function(){return n},n}function un(){var n=Object(j.a)(["\n        display: inline-block;\n        position: relative;\n        width: 64px;\n        height: 64px;\n    "]);return un=function(){return n},n}var dn=function(n){var e=w.a.div(un()),t=Object(w.b)(ln()),r=w.a.div(cn(),t),o=w.a.div(on());return a.a.createElement(o,null,a.a.createElement(e,null,a.a.createElement(r,null),a.a.createElement(r,null),a.a.createElement(r,null),a.a.createElement(r,null)))};function sn(){var n=Object(j.a)(["\n               padding: 25px;\n               border-top: 1px solid #ebedf2;\n               display: flex;\n               justify-content: flex-end;\n        "]);return sn=function(){return n},n}function pn(){var n=Object(j.a)(["\n            margin-bottom: 1rem;\n        "]);return pn=function(){return n},n}function fn(){var n=Object(j.a)(["\n            padding: 25px;\n        "]);return fn=function(){return n},n}function bn(){var n=Object(j.a)(["\n            padding: 0 25px;\n            border-bottom: 1px solid #ebedf2;\n            position: relative;\n            & h3{\n                font-weight: 400;\n                font-size: 1.5rem;\n            }\n        "]);return bn=function(){return n},n}function mn(){var n=Object(j.a)(["\n            background: #fff;\n            display: flex;\n            flex-direction: column;\n            border-radius: 3px;\n            flex: 0 0 50%;\n            max-width: 50%;\n            height: fit-content;\n            box-shadow: 0px 10px 30px 0px rgba(82,63,105,0.08);\n        "]);return mn=function(){return n},n}var hn=function(n){function e(){var n,t;Object(g.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(x.a)(this,(n=Object(E.a)(e)).call.apply(n,[this].concat(a)))).state={selectedBoard:""},t.onBoardChange=function(n){var e=n.target.value;t.setState({selectedBoard:e})},t.confirmButton=function(){""!==t.state.selectedBoard&&t.props.history.push({pathname:"/board/"+t.state.selectedBoard})},t.relogin=function(){localStorage.removeItem("token");var n=window.innerWidth/2-300,e=window.innerHeight/2-300,r="".concat("/trello-app","/login/auth"),a="https://trello.com/1/authorize?expiration=1day&name=TrelloApp&scope=read&response_type=token&key=321471dffbe1e0c750fa713b81d24145&return_url=".concat(r,"&callback_method=fragment"),o=window.open(a,"","toolbar=no, location=no, directories=no, status=no, menubar=no, \n      scrollbars=no, resizable=no, copyhistory=no, width=".concat(600,", \n      height=").concat(600,", top=").concat(e,", left=").concat(n));o.addEventListener("unload",function(n){var e=setInterval(function(){o.closed&&(localStorage.getItem("token").length>10&&t.props.history.push({pathname:"/boards"}),clearInterval(e))},200)})},t}return Object(O.a)(e,n),Object(v.a)(e,[{key:"componentDidMount",value:function(){this.props.initBoards(localStorage.getItem("token")),!0===this.props.error&&console.log("qwe")}},{key:"render",value:function(){var n=this,e=w.a.div(mn()),t=w.a.div(bn()),r=w.a.div(fn()),o=w.a.div(pn()),c=w.a.div(sn());return a.a.createElement(e,null,a.a.createElement(Q,null),this.props.loading?a.a.createElement(dn,null):this.props.error?a.a.createElement(en,{text:this.props.errMessage},a.a.createElement(T,{buttonName:"Relogin",buttonAction:function(){return n.relogin()}})):a.a.createElement(k,null,a.a.createElement(t,null,a.a.createElement("h3",null,"Select the board")),a.a.createElement(r,null,a.a.createElement(o,null,a.a.createElement(an,{label:"Select the board in order to view information about it",name:"board",id:"boards",value:this.state.selectedBoard,options:this.props.boards,onChangeAction:this.onBoardChange}))),a.a.createElement(c,null,a.a.createElement(T,{buttonName:"Confirm",buttonAction:this.confirmButton,type:"success",disabled:0===this.state.selectedBoard.length}))))}}]),e}(r.Component),gn=Object(i.b)(function(n){return{boards:n.boards.boards,error:n.boards.error,errMessage:n.boards.errMsg,loading:n.boards.loading}},function(n){return{initBoards:function(e){return n(function(n){var e="/members/me/boards?token=".concat(n,"&key=").concat("321471dffbe1e0c750fa713b81d24145");return function(){var n=Object(W.a)(U.a.mark(function n(t){var r,a,o;return U.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"SET_BOARDS_LOADING_FLAG"}),n.prev=1,n.next=4,J.get(e);case 4:r=n.sent,a=r.data,o=a.map(function(n){return{id:n.id,value:n.name}}),t(P({boards:o})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),t({type:"SET_ERROR",payload:{error:"Get all boards failed. Try to relogin"}});case 13:case"end":return n.stop()}},n,null,[[1,10]])}));return function(e){return n.apply(this,arguments)}}()}(e))}}})(hn);function vn(){var n=Object(j.a)(["\n            display: flex;\n            flex: 0 0 calc(25% - 2rem);\n            max-width: calc(25% - 2rem);\n            margin: 0 1rem 1rem 1rem;\n            flex-direction: column;\n            padding: 10px;\n            align-items: center;\n            justify-content: space-between;\n            border: 2px solid rgba(93, 120, 255, 0.5);\n            transition: .5s;\n            box-shadow: 0px 10px 30px 0px rgba(82,63,105,0.04);\n            border-radius: 3px;\n            &:hover{\n                 box-shadow: 0px 9px 16px 0px rgba(153,153,153,.5) !important;\n            }\n    "]);return vn=function(){return n},n}var xn=function(n){var e=w.a.div(vn());return a.a.createElement(e,null,a.a.createElement("h5",null,n.title),a.a.createElement(T,{type:"primary",buttonName:"Show detail",link:!0,to:"/board/".concat(n.boardId,"/card/").concat(n.id)}))};function En(){var n=Object(j.a)(["\n                display: flex;\n                    flex-wrap: wrap;\n            }\n        "]);return En=function(){return n},n}var On=function(n){var e=w.a.div(En()),t="No cards";return n.cards.length>0&&(t=n.cards.map(function(e){return a.a.createElement(xn,{key:e.id,title:e.title,id:e.id,boardId:n.boardId})})),a.a.createElement(e,null,t)},yn=function(n){return{type:"SET_CURRENT_CARD",payload:{card:n}}};function jn(){var n=Object(j.a)(["\n    position: fixed;\n    z-index: 500;\n    background-color: white;\n    width: 50%;\n    border: 1px solid #ccc;\n    left: 25%;\n    top: 30%;\n    box-sizing: border-box;\n    transition: all 0.3s ease-out;\n"]);return jn=function(){return n},n}var kn=w.a.div(jn()),wn=function(n){return a.a.createElement(kn,null,n.children)};function _n(){var n=Object(j.a)(["\n        width: 100%;\n        height: 100%;\n        position: fixed;\n        z-index: 200;\n        left: 0;\n        top: 0;\n        background-color: rgba(0, 0, 0, 0.5);\n    "]);return _n=function(){return n},n}var An=function(n){var e=w.a.div(_n());return a.a.createElement(e,{onClick:n.backdropClick},n.children)};function Rn(){var n=Object(j.a)(["\n               padding: 25px;\n               border-top: 1px solid #ebedf2;\n               display: flex;\n               justify-content: flex-end;\n        "]);return Rn=function(){return n},n}function Sn(){var n=Object(j.a)(["\n            padding: 25px;\n        "]);return Sn=function(){return n},n}function Cn(){var n=Object(j.a)(["\n            padding: 0 25px;\n            border-bottom: 1px solid #ebedf2;\n            position: relative;\n            & h3{\n                font-weight: 400;\n                font-size: 1.5rem;\n                text-align: center;\n            }\n        "]);return Cn=function(){return n},n}function Bn(){var n=Object(j.a)(["\n            display: flex;\n            flex-direction: column;\n            width: 100%;\n            height: fit-content;\n            min-height: 200px;\n        "]);return Bn=function(){return n},n}var In=function(n){function e(){var n,t;Object(g.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(x.a)(this,(n=Object(E.a)(e)).call.apply(n,[this].concat(a)))).returnToBoards=function(){t.props.history.push({pathname:"/board/"+t.props.card.boardId})},t}return Object(O.a)(e,n),Object(v.a)(e,[{key:"componentDidMount",value:function(){this.props.card.id!==this.props.match.params.cardId&&this.props.initCurrentCard(this.props.match.params.cardId)}},{key:"render",value:function(){var n=this,e=w.a.div(Bn()),t=w.a.div(Cn()),r=w.a.div(Sn()),o=w.a.div(Rn()),c=new Date(this.props.card.lastActivity).toLocaleString();return a.a.createElement(An,{backdropClick:function(){return n.returnToBoards()}},a.a.createElement(wn,null,a.a.createElement(e,null,this.props.loading?a.a.createElement(dn,null):a.a.createElement(k,null,a.a.createElement(t,null,a.a.createElement("h3",null,this.props.card.title)),a.a.createElement(r,null,a.a.createElement("span",null,"Description:"),a.a.createElement("p",null,this.props.card.desc),a.a.createElement("div",null,a.a.createElement("span",null,a.a.createElement("b",null,"Last activity:")," ",c))),a.a.createElement(o,null,a.a.createElement(T,{type:"secondary",buttonName:"Close",link:!0,to:"/board/".concat(this.props.card.boardId)}))))))}}]),e}(r.Component),Dn=Object(i.b)(function(n){return{card:n.card.currentCard,error:n.card.error,errMessage:n.card.errorMsg,loading:n.card.loading}},function(n){return{setLoadingFlag:function(){return n({type:"SET_CARD_LOADING_FLAG"})},initCurrentCard:function(e){return n(function(n){var e=localStorage.getItem("token"),t="/cards/".concat(n,"?token=").concat(e,"&key=").concat("321471dffbe1e0c750fa713b81d24145");return function(){var n=Object(W.a)(U.a.mark(function n(e){var r,a;return U.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"SET_CARD_LOADING_FLAG"}),n.prev=1,n.next=4,J.get(t);case 4:r=n.sent,a=r.data,e(yn({id:a.id,desc:a.desc,boardId:a.idBoard,title:a.name,lastActivity:a.dateLastActivity})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),e({type:"SET_ERROR_CARD",payload:{error:"Error on load card data"}});case 12:case"end":return n.stop()}},n,null,[[1,9]])}));return function(e){return n.apply(this,arguments)}}()}(e))}}})(In);function Tn(){var n=Object(j.a)(["\n            padding: 25px;\n        "]);return Tn=function(){return n},n}function zn(){var n=Object(j.a)(["\n            padding: 0 25px;\n            border-bottom: 1px solid #ebedf2;\n            position: relative;\n            & h2{\n                font-weight: 400;\n                font-size: 1.5rem;\n            }\n        "]);return zn=function(){return n},n}function Ln(){var n=Object(j.a)(["\n                width: 100%;\n                background: #fff;\n                border-radius: 3px;\n                height: fit-content;\n                box-shadow: 0px 10px 30px 0px rgba(82,63,105,0.08);\n        "]);return Ln=function(){return n},n}var Nn=function(n){function e(){return Object(g.a)(this,e),Object(x.a)(this,Object(E.a)(e).apply(this,arguments))}return Object(O.a)(e,n),Object(v.a)(e,[{key:"componentDidMount",value:function(){this.props.currentBoard.id!==this.props.match.params.boardId&&this.props.initCurrentBoard(this.props.match.params.boardId)}},{key:"render",value:function(){var n=w.a.div(Ln()),e=w.a.div(zn()),t=w.a.div(Tn()),r=[{to:"/board/"+this.props.currentBoard.id,title:this.props.currentBoard.title}];return a.a.createElement(k,null,this.props.loading?"":a.a.createElement(Q,{current:this.props.currentBoard.title,items:r}),this.props.loading?a.a.createElement(dn,null):this.props.error?a.a.createElement(en,{text:this.props.errMessage}):a.a.createElement(n,null,a.a.createElement(e,null,a.a.createElement("h2",null,this.props.currentBoard.title)),a.a.createElement(t,null,a.a.createElement(On,{boardId:this.props.currentBoard.id,cards:this.props.cards})),a.a.createElement(y.b,{path:"/board/:boardId/card/:cardId",component:Dn})))}}]),e}(r.Component),Mn=Object(i.b)(function(n){return{cards:n.cards.cards,currentBoard:n.cards.currentBoard,error:n.cards.error,errMessage:n.cards.errorMsg,loading:n.cards.loading}},function(n){return{initCurrentBoard:function(e){return n(function(n){var e="321471dffbe1e0c750fa713b81d24145",t=localStorage.getItem("token"),r="/boards/".concat(n,"?token=").concat(t,"&key=").concat(e);return function(){var n=Object(W.a)(U.a.mark(function n(a){var o,c,i,l,u,d;return U.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"SET_LOADING_FLAG_CARDS"}),n.prev=1,n.next=4,J.get(r);case 4:return o=n.sent,c=o.data,i="/boards/".concat(c.id,"/cards?token=").concat(t,"&key=").concat(e),n.next=9,J.get(i);case 9:l=n.sent,u=l.data,d=u.map(function(n){return{id:n.id,title:n.name}}),a({type:"SET_CURRENT_BOARD",payload:{board:{info:{id:c.id,title:c.name},cards:d}}}),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(1),a({type:"SET_ERROR_CARDS",payload:{error:"Error to get info for this board"}});case 18:case"end":return n.stop()}},n,null,[[1,15]])}));return function(e){return n.apply(this,arguments)}}()}(e))}}})(Nn),Gn=function(n){return a.a.createElement("div",null,"Please, log in")},Fn=function(n){function e(){return Object(g.a)(this,e),Object(x.a)(this,Object(E.a)(e).apply(this,arguments))}return Object(O.a)(e,n),Object(v.a)(e,[{key:"componentDidMount",value:function(){var n=this.props.location.hash.split("token=");n&&n[1]&&n[1].length>10?(localStorage.setItem("token",n[1]),window.close()):this.props.history.push({pathname:"/login"})}},{key:"render",value:function(){return a.a.createElement("div",null,"Wait")}}]),e}(r.Component),Un=Object(i.b)()(Fn),Wn=t(46),Hn=function(n){var e=n.component,t=Object(Wn.a)(n,["component"]),r=localStorage.getItem("token"),o=r&&r.length>10;return a.a.createElement(y.b,Object.assign({},t,{render:function(n){return o?a.a.createElement(e,n):a.a.createElement(y.a,{to:"/login"})}}))},Jn=function(n){function e(){var n,t;Object(g.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(x.a)(this,(n=Object(E.a)(e)).call.apply(n,[this].concat(a)))).login=function(){var n=window.innerWidth/2-300,e=window.innerHeight/2-300;console.log("/trello-app");var r="".concat("/trello-app","/login/auth"),a="https://trello.com/1/authorize?expiration=1day&name=TrelloApp&scope=read&response_type=token&key=321471dffbe1e0c750fa713b81d24145&return_url=".concat(r,"&callback_method=fragment"),o=window.open(a,"","toolbar=no, location=no, directories=no, status=no, menubar=no, \n      scrollbars=no, resizable=no, copyhistory=no, width=".concat(600,", \n      height=").concat(600,", top=").concat(e,", left=").concat(n));o.addEventListener("unload",function(n){var e=setInterval(function(){o.closed&&(localStorage.getItem("token").length>10&&t.props.history.push({pathname:"/boards"}),clearInterval(e))},200)})},t.logout=function(){localStorage.removeItem("token"),t.props.history.push({pathname:"/login"})},t}return Object(O.a)(e,n),Object(v.a)(e,[{key:"render",value:function(){var n=this,e=localStorage.getItem("token"),t=e&&e.length>10;return a.a.createElement(G,{isAuth:t,rightButtonAction:function(){return t?n.logout():n.login()}},a.a.createElement(y.d,null,a.a.createElement(y.b,{exact:!0,path:"/",render:function(){return t?a.a.createElement(y.a,{to:"/boards"}):a.a.createElement(y.a,{to:"/login"})}}),a.a.createElement(y.b,{exact:!0,path:"/login",component:Gn}),a.a.createElement(y.b,{path:"/login/auth",component:Un}),a.a.createElement(Hn,{path:"/boards",component:gn}),a.a.createElement(Hn,{path:"/board/:boardId",component:Mn})))}}]),e}(r.Component),Pn=Object(y.f)(Jn),Xn=t(5),qn=(t(83),Object(Xn.a)()),Vn=function(n){function e(){return Object(g.a)(this,e),Object(x.a)(this,Object(E.a)(e).apply(this,arguments))}return Object(O.a)(e,n),Object(v.a)(e,[{key:"render",value:function(){return a.a.createElement(_.a,{history:qn,basename:"/trello-app"},a.a.createElement(Pn,null))}}]),e}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(i.a,{store:h},a.a.createElement(Vn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[48,1,2]]]);
//# sourceMappingURL=main.fe419c1a.chunk.js.map